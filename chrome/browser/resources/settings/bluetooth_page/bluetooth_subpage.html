<link rel="import" href="chrome://resources/cr_elements/cr_scrollable_behavior.html">
<link rel="import" href="chrome://resources/html/i18n_behavior.html">
<link rel="import" href="chrome://resources/html/polymer.html">
<link rel="import" href="chrome://resources/polymer/v1_0/iron-flex-layout/classes/iron-flex-layout.html">
<link rel="import" href="chrome://resources/polymer/v1_0/iron-list/iron-list.html">
<link rel="import" href="chrome://resources/polymer/v1_0/paper-button/paper-button.html">
<link rel="import" href="chrome://resources/polymer/v1_0/paper-toggle-button/paper-toggle-button.html">
<link rel="import" href="/icons.html">
<link rel="import" href="/settings_shared_css.html">
<link rel="import" href="bluetooth_device_dialog.html">
<link rel="import" href="bluetooth_device_list_item.html">

<dom-module id="settings-bluetooth-subpage">
  <template>
    <style include="settings-shared">
      #container {
        @apply(--settings-list-frame-padding);
        min-height: 100px;
        overflow-y: auto;
      }

      #pairButton {
        margin: 0
      }

      #topRow {
        margin-bottom: 10px;
      }
    </style>

    <div id="topRow" class="settings-box first">
      <div class="start">[[getOffOnString_(bluetoothEnabled)]]</div>
      <paper-button id="pairButton" class="primary-button"
          on-tap="onAddDeviceTap_" hidden="[[!bluetoothEnabled]]">
        $i18n{bluetoothPairDevice}
      </paper-button>
      <paper-toggle-button id="enableBluetooth" checked="{{bluetoothEnabled}}">
      </paper-toggle-button>
    </div>

    <div id="container" class="layout vertical"
        scrollable on-device-event="onDeviceEvent_"
        hidden="[[!showDevices_(bluetoothEnabled, pairedDeviceList_)]]">
      <iron-list id="devices" class="vertical-list"
          items="[[pairedDeviceList_]]"
          selection-enabled selected-item="{{selectedItem_}}"
          scroll-target="container">
        <template>
          <bluetooth-device-list-item device="[[item]]"
              tabindex$="[[tabIndex]]">
          </bluetooth-device-list-item>
        </template>
      </iron-list>
    </div>
    <div id="noDevices" class="settings-box continuation"
        hidden$="[[!showNoDevices_(bluetoothEnabled, pairedDeviceList_)]]">
      $i18n{bluetoothNoDevices}
    </div>

    <bluetooth-device-dialog id="deviceDialog"
        adapter-state="[[adapterState]]"
        bluetooth-private="[[bluetoothPrivate]]"
        device-list="[[deviceList_]]"
        dialog-id="[[dialogId_]]"
        error-message="[[errorMessage_]]"
        on-close="onDialogClosed_"
        on-device-event="onDeviceEvent_"
        pairing-device="[[pairingDevice_]]">
    </bluetooth-device-dialog>

  </template>
  <script src="bluetooth_subpage.js"></script>
</dom-module>
